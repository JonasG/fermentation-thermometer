<html>
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		<script src="/js/highcharts.js" type="text/javascript"></script>
        
		<script type="text/javascript">
			var temperatures = [];

			$.ajax({
				url: '/rest.json',
				dataType: 'json',
				error: function(jqXHR, textStatus, errorThrown) {
					alert(jqXHR.responseText);
				},
				success: function(data) {
					$.each(data, function(key, temperature) {
						temperatures.push(temperature);
					});
				}
			});

			var timestamps = ['2012-07-28T12:00', '2012-07-28T12:01', '2012-07-28T12:02', '2012-07-28T12:03'];

			var chart1;
			$(document).ready(function() {
			chart1 = new Highcharts.Chart({
				chart: {
					renderTo: 'container',
					type: 'line'
				},
				title: {
					text: 'Temperature Readings'
				},
				xAxis:
				{
					categories: ['Apples', 'Aubergine', 'Oranges']
				},
				yAxis:
				{
					title:
					{
						text: 'Fruit not eaten'
					}
				},
				series: [{
					name: 'Jane',
					data: temperatures
				},
				{
				name: 'John',
				data: [5, 7, 3]
				}]
			});
		});

		</script>
	</head>
	<body>
		<div id="container" style="width: 100%; height: 400px"></div>
		<table>
		</table>
	</body>
</html>
